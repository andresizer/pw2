# ========================================
# AUTH-SERVICE - application.properties
# ========================================

# Configuração do servidor HTTP
quarkus.http.port=8080
quarkus.application.name=auth-service

# ========================================
# Configuração do Banco de Dados PostgreSQL
# ========================================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/auth_db

# Configuração do pool de conexões
quarkus.datasource.jdbc.min-size=2
quarkus.datasource.jdbc.max-size=10

# ========================================
# Configuração do Hibernate ORM
# ========================================
# drop-and-create: recria tabelas a cada start (dev)
# update: apenas atualiza estrutura (produção)
# validate: apenas valida (produção)
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# ========================================
# Configuração JWT - SmallRye
# ========================================
# Chave pública para validar tokens (usada em ambos os serviços)
mp.jwt.verify.publickey.location=publickey.pem

# Chave privada para ASSINAR tokens (só no auth-service)
smallrye.jwt.sign.key.location=privatekey.pkcs8

# Issuer - deve ser o mesmo em ambos os serviços
mp.jwt.verify.issuer=https://finance-auth-service

# Tempo de expiração do token em segundos (3600 = 1 hora)
smallrye.jwt.expiration.time=3600

# ========================================
# Configuração CORS (para permitir frontend)
# ========================================
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=*

# ========================================
# Logs
# ========================================
quarkus.log.level=INFO
quarkus.log.category."com.finance".level=DEBUG

# ========================================
# Modo de desenvolvimento
# ========================================
%dev.quarkus.log.console.enable=true
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n