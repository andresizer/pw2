# ========================================
# TRANSACTION-SERVICE - application.properties
# ========================================

# Configuração do servidor HTTP
quarkus.http.port=8081
quarkus.application.name=transaction-service

# ========================================
# Configuração do Banco de Dados PostgreSQL
# ========================================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=26112930
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/transaction_db

# Configuração do pool de conexões
quarkus.datasource.jdbc.min-size=2
quarkus.datasource.jdbc.max-size=10

# ========================================
# Configuração do Hibernate ORM
# ========================================
# drop-and-create: recria tabelas a cada start (dev)
# update: apenas atualiza estrutura (produção)
# validate: apenas valida (produção)
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.sql-load-script=no-file

# ========================================
# Configuração JWT - SmallRye (APENAS VALIDAÇÃO)
# ========================================
# Chave pública para VALIDAR tokens recebidos do auth-service
mp.jwt.verify.publickey.location=publickey.pem

# Issuer - DEVE SER IGUAL ao do auth-service
mp.jwt.verify.issuer=https://finance-auth-service

# ========================================
# Configuração CORS (para permitir frontend)
# ========================================
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=*

# ========================================
# Logs
# ========================================
quarkus.log.level=INFO
quarkus.log.category."com.finance".level=DEBUG

# ========================================
# Modo de desenvolvimento
# ========================================
%dev.quarkus.log.console.enable=true
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n